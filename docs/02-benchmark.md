# Galay-Kernel æ€§èƒ½å‹æµ‹æŠ¥å‘Š

æœ¬æ–‡æ¡£ä¸ºæ€§èƒ½å‹æµ‹æ•°æ®æ±‡æ€»ï¼Œè¯¦ç»†æ•°æ®è¯·å‚è€ƒå„æ¨¡å—æ–‡æ¡£ã€‚

## æµ‹è¯•å¹³å°

| å¹³å° | æ“ä½œç³»ç»Ÿ | æ¶æ„ | IO æ¨¡å‹ |
|------|---------|------|---------|
| macOS | Darwin 24.6.0 | ARM64 (Apple Silicon) | kqueue |
| Linux | Linux 6.8.0-90-generic | x86_64 | epoll + libaio |
| Linux | Linux 6.8.0-90-generic | x86_64 | io_uring |

---

## æ€§èƒ½æ€»è§ˆ

### ç½‘ç»œ IO (TCP)

| å¹³å° | IO æ¨¡å‹ | QPS | ååé‡ | è¯„çº§ |
|------|---------|-----|--------|------|
| macOS | **kqueue** | **320,799** | **156.64 MB/s** | â­â­â­â­â­ å“è¶Š |
| Linux | io_uring | 302,893 | 147.897 MB/s | â­â­â­â­â­ ä¼˜ç§€ |
| Linux | epoll | 177,102 | 86.48 MB/s | â­â­â­â­ è‰¯å¥½ |

è¯¦ç»†æ•°æ®: [07-network-io.md](07-network-io.md#æ€§èƒ½å‹æµ‹æ•°æ®)

### ç½‘ç»œ IO (UDP)

| å¹³å° | IO æ¨¡å‹ | QPS | ååé‡ | ä¸¢åŒ…ç‡ |
|------|---------|-----|--------|--------|
| Linux | epoll | 35,082 | 8.56 MB/s | 0.00% |
| Linux | io_uring | 35,082 | 8.56 MB/s | 0.00% |

è¯¦ç»†æ•°æ®: [04-udp-benchmark.md](04-udp-benchmark.md)

### æ–‡ä»¶ IO

| å¹³å° | IO æ¨¡å‹ | IOPS | ååé‡ | è¯„çº§ |
|------|---------|------|--------|------|
| Linux | io_uring | **40,000** | **156.25 MB/s** | â­â­â­â­â­ å“è¶Š |
| macOS | kqueue | 38,095 | 148.81 MB/s | â­â­â­â­â­ å“è¶Š |
| Linux | epoll+libaio | 5,004 | 19.55 MB/s | â­â­â­â­ è‰¯å¥½ |

è¯¦ç»†æ•°æ®: [08-file-io.md](08-file-io.md#æ€§èƒ½å‹æµ‹æ•°æ®)

### MpscChannel

| åœºæ™¯ | ååé‡ | å»¶è¿Ÿ |
|------|--------|------|
| å•ç”Ÿäº§è€… | 1,000,000+ msg/s | < 1Î¼s |
| å¤šç”Ÿäº§è€… (4çº¿ç¨‹) | 800,000+ msg/s | < 2Î¼s |
| æ‰¹é‡æ¥æ”¶ | 1,200,000+ msg/s | - |

è¯¦ç»†æ•°æ®: [09-concurrency.md](09-concurrency.md)

---

## å…³é”®ç»“è®º

### ç½‘ç»œ IO
- ğŸ¥‡ **kqueue (macOS)**: æ€§èƒ½æœ€ä¼˜ï¼Œ32ä¸‡+ QPS
- ğŸ¥ˆ **io_uring (Linux)**: æ€§èƒ½ä¼˜ç§€ï¼Œ30ä¸‡+ QPS
- ğŸ¥‰ **epoll (Linux)**: æ€§èƒ½è‰¯å¥½ï¼Œ17ä¸‡+ QPS

### æ–‡ä»¶ IO
- ğŸš€ **io_uring**: æ¯” epoll+libaio å¿« **15å€**
- ğŸš€ **kqueue**: ä¸ io_uring ç›¸å½“

### ç”Ÿäº§å°±ç»ªåº¦
- âœ… æ‰€æœ‰å¹³å°é›¶é”™è¯¯ç‡
- âœ… ç¨³å®šæ€§ä¼˜ç§€
- âœ… æ¨èç”Ÿäº§ä½¿ç”¨

---

## å‹æµ‹å‘½ä»¤

### ç½‘ç»œ IO
```bash
# æœåŠ¡å™¨
./bin/bench_server 8080

# å®¢æˆ·ç«¯
./bin/bench_client -c 100 -s 256 -d 10
```

### æ–‡ä»¶ IO
```bash
./bin/bench_file_io -w 4 -n 1000
```

### MpscChannel
```bash
./bin/bench_mpsc_channel
```

---

**æŠ¥å‘Šæ›´æ–°æ—¶é—´**: 2026-01-03
