# Galay-Kernel æ€§èƒ½å‹æµ‹æŠ¥å‘Š

æœ¬æ–‡æ¡£ä¸ºæ€§èƒ½å‹æµ‹æ•°æ®æ±‡æ€»ï¼Œè¯¦ç»†æ•°æ®è¯·å‚è€ƒå„æ¨¡å—æ–‡æ¡£ã€‚

## æµ‹è¯•å¹³å°

| å¹³å° | æ“ä½œç³»ç»Ÿ | æ¶æ„ | IO æ¨¡å‹ |
|------|---------|------|---------|
| macOS | Darwin 24.6.0 | ARM64 (Apple M4, 10æ ¸, 24GB) | kqueue |
| Linux | Linux 6.8.0-90-generic | x86_64 | epoll + libaio |
| Linux | Linux 6.8.0-90-generic | x86_64 | io_uring |

---

## æ€§èƒ½æ€»è§ˆ

### ç½‘ç»œ IO (TCP)

| å¹³å° | IO æ¨¡å‹ | QPS | ååé‡ | è¯„çº§ |
|------|---------|-----|--------|------|
| macOS | **kqueue** | **313,841** | **153.24 MB/s** | â­â­â­â­â­ å“è¶Š |
| Linux | io_uring | 302,893 | 147.90 MB/s | â­â­â­â­â­ ä¼˜ç§€ |
| Linux | epoll | 177,102 | 86.48 MB/s | â­â­â­â­ è‰¯å¥½ |

è¯¦ç»†æ•°æ®: [07-network-io.md](07-network-io.md#æ€§èƒ½å‹æµ‹æ•°æ®)

### ç½‘ç»œ IO (UDP)

| å¹³å° | IO æ¨¡å‹ | QPS | ååé‡ | ä¸¢åŒ…ç‡ |
|------|---------|-----|--------|--------|
| macOS | kqueue | 35,008 | 8.55 MB/s | 0.00% |
| Linux | epoll | 35,082 | 8.56 MB/s | 0.00% |
| Linux | io_uring | 35,082 | 8.56 MB/s | 0.00% |

è¯¦ç»†æ•°æ®: [04-udp-benchmark.md](04-udp-benchmark.md)

### æ–‡ä»¶ IO

| å¹³å° | IO æ¨¡å‹ | IOPS | ååé‡ | è¯„çº§ |
|------|---------|------|--------|------|
| Linux | io_uring | **40,000** | **156.25 MB/s** | â­â­â­â­â­ å“è¶Š |
| macOS | kqueue | 38,095 | 148.81 MB/s | â­â­â­â­â­ å“è¶Š |
| Linux | epoll+libaio | 5,004 | 19.55 MB/s | â­â­â­â­ è‰¯å¥½ |

è¯¦ç»†æ•°æ®: [08-file-io.md](08-file-io.md#æ€§èƒ½å‹æµ‹æ•°æ®)

### ComputeScheduler

| ä»»åŠ¡ç±»å‹ | ååé‡ | å»¶è¿Ÿ |
|----------|--------|------|
| ç©ºä»»åŠ¡ | 4,000,000 tasks/s | - |
| è½»é‡è®¡ç®— | 5,000,000 tasks/s | - |
| é‡è®¡ç®— | 1,111,111 tasks/s | - |
| è°ƒåº¦å»¶è¿Ÿ | - | 7.01 Î¼s |

è¯¦ç»†æ•°æ®: [03-compute-scheduler.md](03-compute-scheduler.md)

### MpscChannel

| åœºæ™¯ | ååé‡ | å»¶è¿Ÿ |
|------|--------|------|
| å•ç”Ÿäº§è€… | 27,777,778 msg/s | - |
| å¤šç”Ÿäº§è€… (4çº¿ç¨‹) | 27,777,778 msg/s | - |
| æ‰¹é‡æ¥æ”¶ | 37,037,037 msg/s | - |
| è·¨è°ƒåº¦å™¨ | 28,571,429 msg/s | - |
| æŒç»­è´Ÿè½½ | 15,872,182 msg/s | 25.26 ms |

è¯¦ç»†æ•°æ®: [09-concurrency.md](09-concurrency.md)

---

## å…³é”®ç»“è®º

### ç½‘ç»œ IO
- ğŸ¥‡ **kqueue (macOS)**: æ€§èƒ½æœ€ä¼˜ï¼Œ31ä¸‡+ QPS
- ğŸ¥ˆ **io_uring (Linux)**: æ€§èƒ½ä¼˜ç§€ï¼Œ30ä¸‡+ QPS
- ğŸ¥‰ **epoll (Linux)**: æ€§èƒ½è‰¯å¥½ï¼Œ17ä¸‡+ QPS

### æ–‡ä»¶ IO
- ğŸš€ **io_uring**: æ¯” epoll+libaio å¿« **15å€**
- ğŸš€ **kqueue**: ä¸ io_uring ç›¸å½“

### ComputeScheduler
- âš¡ **ç©ºä»»åŠ¡åå**: 400ä¸‡+ tasks/s
- âš¡ **è°ƒåº¦å»¶è¿Ÿ**: 7.01 Î¼s

### MpscChannel
- âš¡ **å•ç”Ÿäº§è€…**: 2777ä¸‡+ msg/s
- âš¡ **æ‰¹é‡æ¥æ”¶**: 3703ä¸‡+ msg/s

### ç”Ÿäº§å°±ç»ªåº¦
- âœ… æ‰€æœ‰å¹³å°é›¶é”™è¯¯ç‡
- âœ… ç¨³å®šæ€§ä¼˜ç§€
- âœ… æ¨èç”Ÿäº§ä½¿ç”¨

---

## å‹æµ‹å‘½ä»¤

### ç½‘ç»œ IO (TCP)
```bash
# æœåŠ¡å™¨
./bin/bench_tcp_server 8080

# å®¢æˆ·ç«¯
./bin/bench_tcp_client 127.0.0.1 8080 100 256 10
```

### ç½‘ç»œ IO (UDP)
```bash
./bin/bench_udp
```

### æ–‡ä»¶ IO
```bash
./bin/bench_file_io
```

### ComputeScheduler
```bash
./bin/bench_compute_scheduler
```

### MpscChannel
```bash
./bin/bench_mpsc_channel
```

---

**æŠ¥å‘Šæ›´æ–°æ—¶é—´**: 2026-01-10
